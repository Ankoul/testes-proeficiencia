<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
	
	<h:form id="formInstrument" enctype="multipart/form-data">
		<p:panelGrid columns="2" layout="grid">
			<p:outputLabel for="name" value="Nome:" />
			<p:inputText id="name" value="#{instrumentMB.name}"/>

			<p:outputLabel for="instrumentUser" value="Responsável pelo instrumento:" />
			<p:selectOneMenu id="instrumentUser" value="#{instrumentMB.user}" style="width:218px" converter="EntityConverter">
				<p:ajax event="change" listener="#{instrumentMB.userChangeHandler}" />
                <f:selectItem itemLabel="Selecione um usuário" itemValue="" noSelectionOption="true" />
                <f:selectItems value="#{userMB.list}" />
            </p:selectOneMenu>

			<p:fileUpload id="imageUpload" fileUploadListener="#{instrumentMB.fileUploadHandler}" mode="advanced" auto="true" skinSimple="true" update="imageView" 
			allowTypes="/(\.|\/)(gif|jpe?g|png)$/" label="Selecione uma imagem"/>
			<p:graphicImage id="imageView" name="#{instrumentMB.tempImageName}" style="height: 77px; width: 100px"/>
            <p:commandButton id="btnSaveInstrument" value="Salvar" actionListener="#{instrumentMB.toSave()}" type="submit" />
            <p:commandButton value="Limpar" type="reset" />
		</p:panelGrid>
	</h:form>
</html>